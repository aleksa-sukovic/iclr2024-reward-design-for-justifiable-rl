{
    "version": "0.2.0",
    "configurations": [
        {
            "name": "Python: Current File",
            "type": "debugpy",
            "request": "launch",
            "program": "${file}",
            "console": "integratedTerminal",
            "justMyCode": false
        },
        {
            "name": "Generate Dataset",
            "type": "debugpy",
            "request": "launch",
            "module": "argo.scripts.data",
            "console": "integratedTerminal",
            "justMyCode": true,
            "args": [
                "generate",
                "--artifacts-dir", "${workspaceFolder}/assets/debug/sepsis",
                "--sepsis-cohort", "${workspaceFolder}/assets/data/sepsis/sepsis_final_data_raw.csv",
            ]
        },
        {
            "name": "Train Clinician",
            "type": "debugpy",
            "request": "launch",
            "module": "argo.scripts.clinician",
            "console": "integratedTerminal",
            "justMyCode": true,
            "args": [
                "train",
                "--artifacts-dir", "${workspaceFolder}/assets/debug/clinician",
                "--train-dict-path", "${workspaceFolder}/assets/data/sepsis/train_dict.pt",
                "--val-dict-path", "${workspaceFolder}/assets/data/sepsis/val_dict.pt",
                "--test-dict-path", "${workspaceFolder}/assets/data/sepsis/test_dict.pt",
                "--use-dem", "true",
                "--perform-scaling", "false",
                "--batch-size", "64",
                "--hidden-dim", "256",
                "--optimizer", "adam",
                "--lr", "5e-4",
                "--weight-decay", "0.0",
                "--epochs", "150"
            ]
        },
        {
            "name": "Train Judge",
            "type": "debugpy",
            "request": "launch",
            "module": "argo.scripts.judge",
            "console": "integratedTerminal",
            "justMyCode": true,
            "args": [
                "train",
                "--artifacts-dir", "${workspaceFolder}/assets/debug/judge",
                "--train-dict-path", "${workspaceFolder}/assets/data/sepsis/train_dict.pt",
                "--val-dict-path", "${workspaceFolder}/assets/data/sepsis/val_dict.pt",
                "--test-dict-path", "${workspaceFolder}/assets/data/sepsis/test_dict.pt",
                "--perform-scaling", "false",
                "--preference-generation-method", "random",
                "--use-dem", "true",
                "--batch-size", "128",
                "--hidden-dim", "256",
                "--num-arguments", "6",
                "--optimizer", "adam",
                "--lr", "1e-5",
                "--weight-decay", "1e-1",
                "--epochs", "10",
            ]
        },
        {
            "name": "Train Argumentator",
            "type": "debugpy",
            "request": "launch",
            "module": "argo.scripts.argumentator",
            "console": "integratedTerminal",
            "justMyCode": false,
            "args": [
                "train",
                "--artifacts-dir", "${workspaceFolder}/assets/debug/argumentator",
                "--train-dict-path", "${workspaceFolder}/assets/data/sepsis/train_dict_argumentation.pt",
                "--judge-path", "${workspaceFolder}/assets/models/judge.pt",
                "--use-dem", "true",
                "--num-arguments", "6",
                "--hidden-dim", "256",
                "--lr", "5e-4",
                "--gamma", "0.9",
                "--epochs", "1",
                "--step-per-epoch", "64",
                "--episode-per-collect", "2",
                "--repeat-per-collect", "1",
                "--normalize-rewards", "false",
                "--train-device", "cpu",
                "--limit", "150",
            ]
        },
        {
            "name": "Train Self-Play Debate",
            "type": "debugpy",
            "request": "launch",
            "module": "argo.scripts.argumentator",
            "console": "integratedTerminal",
            "justMyCode": false,
            "args": [
                "train-debate",
                "--artifacts-dir", "${workspaceFolder}/assets/debug/argumentator",
                "--dataset-path", "${workspaceFolder}/assets/data/sepsis/train_preferences.pt",
                "--judge-path", "${workspaceFolder}/assets/models/judge.pt",
                "--epochs", "1",
                "--step-per-epoch", "1",
                "--episode-per-collect", "2",
                "--num-train-envs", "1",
                "--num-test-envs", "1",
                "--generations", "2",
                "--num-train-envs", "2",
                "--num-arguments", "6",
                "--limit", "150",
                "--resume-path", "${workspaceFolder}/assets/debug/argumentator/argumentator.debate.data.pt",
            ]
        },
        {
            "name": "Train Debate Minimax",
            "type": "debugpy",
            "request": "launch",
            "module": "argo.scripts.argumentator",
            "console": "integratedTerminal",
            "justMyCode": false,
            "args": [
                "train-minimax",
                "--artifacts-dir", "${workspaceFolder}/assets/debug/argumentator",
                "--train-dict-path", "${workspaceFolder}/assets/data/sepsis/train_dict_argumentation.pt",
                "--judge-path", "${workspaceFolder}/assets/models/judge.pt",
                "--epochs-argumentator", "2",
                "--epochs-confuser", "1",
                "--step-per-epoch", "1",
                "--episode-per-collect", "1",
                "--num-train-envs", "1",
                "--num-test-envs", "1",
                "--generations", "2",
                "--use-dem", "true",
                "--num-arguments", "6",
                "--limit", "150",
            ]
        },
        {
            "name": "Train Confuser",
            "type": "debugpy",
            "request": "launch",
            "module": "argo.scripts.confuser",
            "console": "integratedTerminal",
            "justMyCode": false,
            "args": [
                "train",
                "--artifacts-dir", "${workspaceFolder}/assets/debug/argumentator",
                "--train-dataset-path", "${workspaceFolder}/assets/data/sepsis/train_preferences.pt",
                "--test-dataset-path", "${workspaceFolder}/assets/data/sepsis/test_preferences.pt",
                "--judge-path", "${workspaceFolder}/assets/models/judge/judge.pt",
                "--opponent-path", "${workspaceFolder}/assets/models/argumentator/6/argumentator.isolated.pt",
                "--propose-evidence-upfront", "true",
                "--num-arguments", "6",
                "--hidden-dim", "256",
                "--lr", "5e-4",
                "--gamma", "0.99",
                "--epochs", "1",
                "--step-per-epoch", "64",
                "--episode-per-collect", "1",
                "--repeat-per-collect", "1",
                "--limit", "5",
                "--normalize-rewards", "true",
                "--train-device", "cuda",
            ]
        },
        {
            "name": "Train Protagonist (DDQN)",
            "type": "debugpy",
            "request": "launch",
            "module": "argo.scripts.protagonist",
            "console": "integratedTerminal",
            "justMyCode": false,
            "args": [
                "train-ddqn",
                "--artifacts-dir", "${workspaceFolder}/assets/debug/protagonist",
                "--train-dict-path", "${workspaceFolder}/assets/data/sepsis/train_val_dict.pt",
                "--test-dict-path", "${workspaceFolder}/assets/data/sepsis/test_dict.pt",
                "--clinician-path", "${workspaceFolder}/assets/models/clinician.pt",
                "--buffer-path", "${workspaceFolder}/assets/data/sepsis/train_buffer.hdf5",
                "--use-dem", "true",
                "--hidden-dim", "256",
                "--hidden-depth", "2",
                "--epochs", "2",
                "--seed", "2020",
                "--train-device", "cpu",
            ]
        },
    ]
}
